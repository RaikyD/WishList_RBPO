| ID     | Название                            | Описание                                                        | Метрика/Порог                          | Проверка (чем/где)                | Компонент | Приоритет |
|--------|-------------------------------------|------------------------------------------------------------------|----------------------------------------|-----------------------------------|-----------|-----------|
| NFR-01 | Формат ошибок и маскирование PII    | Единый конверт ошибок без утечек e-mail/PII                      | 100% эндпойнтов в едином формате       | Контракт-тесты pytest             | api       | High      |
| NFR-02 | Аутентификация (минимум)            | Для мутирующих ручек обязателен Bearer JWT (демо)               | 100% POST/PATCH/DELETE требуют JWT     | e2e тесты                         | api       | High      |
| NFR-03 | Rate limiting                       | Ограничение частоты на /wishes (демо-стаб)                       | ≤ 60 req/min на IP                     | e2e тест + лог                    | api       | Medium    |
| NFR-04 | Зависимости без High/Critical       | SCA: High/Critical устраняем ≤ 7 дней                            | High/Critical ≤ 7 дней в CI            | Отчёт SCA (pip-audit) в CI        | build     | High      |
| NFR-05 | Секреты не в коде                   | DSN и токены через env                                           | 0 секретов в репо                      | pre-commit + поиск секретов       | build     | High      |
| NFR-06 | Производительность /wishes (p95)    | p95 ответа при 20 RPS                                            | p95 ≤ 200 ms                           | k6/locust скрипт (опц.)           | api       | Medium    |
| NFR-07 | Логи без PII                        | Логи не содержат почты/PII                                       | 0 найденных PII в логе при тесте       | unit + grep в CI                  | api       | Medium    |
| NFR-08 | Миграции/схема согласованы          | Старт без ошибок схемы                                           | CI «pytest» зелёный                    | pytest (create_all + tests)       | db        | High      |
| NFR-09 | Бэкапы (демо-политика)              | Для prod — ежедневный бэкап БД (для нас — чек-лист в README)     | Политика задокументирована             | README секция + issue             | ops       | Low       |
| NFR-10 | Корреляция ошибок                   | `X-Request-Id` в ответах                                         | 100% ответов содержат header           | интеграционный тест               | api       | Medium    |
